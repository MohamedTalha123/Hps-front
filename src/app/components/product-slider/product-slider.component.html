<div class="product-slider-wrapper">
    <div class="text-lg font-medium line-clamp-2 text-center border-t border-b py-2 my-4">CASIO'S PRODUCTS</div>
    <div class="product-slider-container">
      <button class="nav-button left" (click)="scrollLeft()">&lt;</button>
      <div class="product-slider-viewport">
        <div class="product-slider" #slider
             (mousedown)="onMouseDown($event)"
             (mouseleave)="onMouseLeave()">
          <div class="product-item" *ngFor="let product of displayProducts; let i = index">
            <div class="product-container relative overflow-hidden cursor-pointer"
            [routerLink]="['/product', product.id]"
            (mousedown)="onItemMouseDown($event, i)">
              <img [src]="product.imageUrl" [alt]="product.name" class="product-image w-full h-48 object-contain transition-transform duration-300 hover:scale-110">
              <button class="preview-button absolute bottom-0 left-0 right-0 bg-[#1d3a5c] text-white py-2"
              (click)="openPreviewPopup(product); $event.stopPropagation(); $event.preventDefault();">
                PREVIEW
              </button>
              <div *ngIf="product.availableQuantity === 0" class="absolute top-1/2 left-0 right-0 text-center bg-black bg-opacity-70 text-white py-2 transform -translate-y-1/2">
                OUT OF STOCK
              </div>
            </div>
            <div class="p-2">
              <h2 class="text-sm text-blue-600">{{ product.brandName }}</h2>
              <h3 class="text-base font-medium line-clamp-2">{{ product.name }}</h3>
              <p class="text-sm font-bold mt-2">{{ product.price | currency }}</p>
            </div>
          </div>
        </div>
      </div>
      <button class="nav-button right" (click)="scrollRight()">&gt;</button>
    </div>
  </div>
  